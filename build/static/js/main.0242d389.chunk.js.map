{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","props","filter","onChangeFilter","value","onChange","PersonForm","name","number","onChangeName","onChangeNumber","onAddPerson","type","onClick","SinglePerson","person","onDelete","Persons","persons","onDeleteSinglePerson","filtered","trim","toLowerCase","indexOf","length","map","baseUrl","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","successfull","setSucesssfull","unsuccessful","setUnsuccessful","useEffect","axios","get","then","data","timeout","setTimeout","clearTimeout","updatePersons","id","window","confirm","personToUpdate","find","updatedPerson","newPersons","put","res","catch","err","style","margin","target","event","preventDefault","some","newPerson","phone","prev","concat","post","createOne","alert","delete","status","deleteOne","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0242d389.chunk.js","sourcesContent":["const Filter = props => {\r\n    const { filter, onChangeFilter } = props\r\n    return (\r\n      <p>Filter shown with: <input value={filter} onChange={onChangeFilter}/> </p>\r\n    )\r\n}\r\n\r\nexport default Filter","const PersonForm = props => {\r\n    const { name, number, onChangeName, onChangeNumber, onAddPerson } = props \r\n    return (\r\n      <form>\r\n          <div>\r\n            name: <input value={name} onChange={onChangeName}/>\r\n            <br />\r\n            number: <input value={number} onChange={onChangeNumber} />\r\n          </div>\r\n          <button type=\"submit\" onClick={onAddPerson}>add</button>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","const Persons = props => {\r\n    const { filter, persons, onDeleteSinglePerson } = props\r\n    const filterfn = () => persons.filter(person => person.name.trim().toLowerCase().indexOf(filter.trim().toLowerCase()) !== -1)\r\n    const filtered = filterfn()\r\n    return (\r\n      !filter \r\n        ? persons.map(person => <SinglePerson key={person.name} person={person} onDelete={onDeleteSinglePerson} />)\r\n        : filtered.length < 1 \r\n          ? <p>Not results</p>\r\n          : filtered.map(person => <SinglePerson key={person.name} person={person} onDelete={onDeleteSinglePerson} />)\r\n    )\r\n}\r\n\r\nconst SinglePerson = props => {\r\n  const { person, onDelete } = props\r\n\r\n  return (\r\n    <>\r\n      <p key={person.name}>{person.name}: {person.number} <button onClick={() => onDelete(person)}>delete</button></p>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nexport const getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(({ data }) => data )\r\n}\r\n\r\nexport const createOne = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(({ data }) => data )\r\n}\r\n\r\nexport const deleteOne = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(({status }) => status)\r\n}\r\n\r\nexport const updateOne = (id, data) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, data)\r\n    return request.then((res) => res)\r\n}\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport { getAll, createOne, deleteOne, updateOne } from './services/persons'\nimport './App.css'\n\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ successfull, setSucesssfull ] = useState('')\n  const [ unsuccessful, setUnsuccessful ] = useState('')\n\n  useEffect(() => void getAll().then(data => void setPersons(data)), [])\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setSucesssfull('')\n      setUnsuccessful('')\n    }, 3000);\n    return () => void clearTimeout(timeout)\n  }, [successfull, unsuccessful])\n\n  const updatePersons = () => {\n    const updatePerson = window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)\n    if(updatePerson) {\n      const personToUpdate = persons.find(person => person.name === newName)\n      const updatedPerson = {...personToUpdate, number: newNumber}\n      const newPersons = persons.map(person => \n        person.name === personToUpdate.name \n          ? person = updatedPerson\n          : person\n      )\n      setNewName('')\n      setNewNumber('')\n      setPersons(newPersons)\n      updateOne(personToUpdate.id, updatedPerson)\n        .catch(err => {\n          setUnsuccessful(`information of ${newName} has already been removed from server`)\n          const newPersons = persons.filter(person => person.name !== newName)\n          setPersons(newPersons)\n        })\n    }\n  }\n\n  const addNewPerson = event => {\n    event.preventDefault()\n    if(newName === \"\" || !newNumber) return;\n    const alreadyIn = persons.some(person => \n      person.name.trim().toLowerCase() === newName.trim().toLowerCase()\n    )\n    if(alreadyIn){  \n      updatePersons()\n      return\n    }\n    const newPerson = {name: newName, phone: newNumber}\n    setPersons(prev => prev.concat(newPerson))\n    setNewName('')\n    setNewNumber('')\n    createOne(newPerson)\n      .catch(err => alert(err))\n      setSucesssfull(`${newName} Added  successfully`)\n  }\n\n  const DeleteSinglePerson = person => {\n    const {id, name} = person\n    const confirmDeletePerson = window.confirm(`delete ${name}?`)\n    if(confirmDeletePerson){\n      const newPersons = persons.filter(person => person.id !== id)\n      setPersons(newPersons)\n      deleteOne(id)\n        .catch(err => alert(err))\n      setSucesssfull(`${name} delete successfully`)\n    }\n  }\n\n  const handleSetFilter = ({ target }) => void setFilter(target.value)\n  const handleSetName = ({ target }) => void setNewName(target.value)\n  const handleSetNumber = ({ target }) => void setNewNumber(target.value)\n\n  return (\n    <div style={{ margin: \"2rem\" }}>\n      {\n        successfull && <Notification message={successfull} type={'done'}/>\n      }\n      {\n        unsuccessful && <Notification  message={unsuccessful} />\n      }\n      <h2>Phonebook</h2>\n        <Filter \n          filter={filter}\n          onChangeFilter={handleSetFilter}\n        />\n      <h2>add a new</h2>\n        <PersonForm \n          name={newName}\n          number={newNumber}\n          onChangeName={handleSetName}\n          onChangeNumber={handleSetNumber}\n          onAddPerson={addNewPerson}\n        />\n      <h2>Numbers</h2>\n        {\n          persons.length >= 1\n            ? <Persons \n                filter={filter}\n                persons={persons}\n                onDeleteSinglePerson={DeleteSinglePerson}\n              />\n            : <p>No contacts to show</p>\n        }\n    </div>\n  )\n}\n\nconst Notification = props => {\n  const { message, type } = props\n  return <h3 className={type === 'done' ? 'done' : 'error' }>{message}</h3>\n}\n\nexport default App","import React from 'react';\nimport { render } from 'react-dom';\nimport App from './App';\n\nrender(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}